{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, createBlock as _createBlock } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\"菜名\");\n\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"數量\");\n\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"價錢\");\n\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\"時間\");\n\nconst _hoisted_5 = {\n  class: \"\"\n};\nconst _hoisted_6 = {\n  class: \"row\"\n};\nconst _hoisted_7 = {\n  class: \"col-sm-8\"\n};\nconst _hoisted_8 = {\n  class: \"col-sm-4\"\n};\nconst _hoisted_9 = {\n  key: 0\n};\nconst _hoisted_10 = {\n  class: \"clearfix\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_CTableHeaderCell = _resolveComponent(\"CTableHeaderCell\");\n\n  const _component_CTableRow = _resolveComponent(\"CTableRow\");\n\n  const _component_CTableHead = _resolveComponent(\"CTableHead\");\n\n  const _component_CFormSwitch = _resolveComponent(\"CFormSwitch\");\n\n  const _component_CTableDataCell = _resolveComponent(\"CTableDataCell\");\n\n  const _component_CTableBody = _resolveComponent(\"CTableBody\");\n\n  const _component_CTable = _resolveComponent(\"CTable\");\n\n  const _component_CForm = _resolveComponent(\"CForm\");\n\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_CForm, null, {\n    default: _withCtx(() => [_createVNode(_component_CTable, {\n      align: \"middle\",\n      class: \"mb-0 border\",\n      hover: \"\",\n      responsive: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_CTableHead, {\n        color: \"light\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_CTableRow, null, {\n          default: _withCtx(() => [_createVNode(_component_CTableHeaderCell, {\n            class: \"text-center\"\n          }, {\n            default: _withCtx(() => [_hoisted_1]),\n            _: 1\n            /* STABLE */\n\n          }), _createVNode(_component_CTableHeaderCell, {\n            class: \"text-center\"\n          }, {\n            default: _withCtx(() => [_hoisted_2]),\n            _: 1\n            /* STABLE */\n\n          }), _createVNode(_component_CTableHeaderCell, {\n            class: \"text-center\"\n          }, {\n            default: _withCtx(() => [_hoisted_3]),\n            _: 1\n            /* STABLE */\n\n          }), _createVNode(_component_CTableHeaderCell, {\n            class: \"text-center\"\n          }, {\n            default: _withCtx(() => [_hoisted_4]),\n            _: 1\n            /* STABLE */\n\n          })]),\n          _: 1\n          /* STABLE */\n\n        })]),\n        _: 1\n        /* STABLE */\n\n      }), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.currentOrder, order => {\n        return _openBlock(), _createElementBlock(_Fragment, {\n          key: order.id\n        }, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, \"訂單編號 : \" + _toDisplayString(order.id), 1\n        /* TEXT */\n        ), _createElementVNode(\"div\", _hoisted_8, [order.status == 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createVNode(_component_CFormSwitch, {\n          id: \"formSwitchCheckChecked\",\n          checked: order.status == 2,\n          label: _ctx.是否已出餐,\n          onChange: $event => $setup.changeStatus(order)\n        }, null, 8\n        /* PROPS */\n        , [\"checked\", \"label\", \"onChange\"])])) : _createCommentVNode(\"v-if\", true)])])]), _createVNode(_component_CTableBody, null, {\n          default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(JSON.parse(order.content), item => {\n            return _openBlock(), _createBlock(_component_CTableRow, {\n              key: item.name\n            }, {\n              default: _withCtx(() => [_createVNode(_component_CTableDataCell, {\n                class: \"text-center\"\n              }, {\n                default: _withCtx(() => [_createElementVNode(\"div\", null, _toDisplayString(item.name), 1\n                /* TEXT */\n                )]),\n                _: 2\n                /* DYNAMIC */\n\n              }, 1024\n              /* DYNAMIC_SLOTS */\n              ), _createVNode(_component_CTableDataCell, {\n                class: \"text-center\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(_toDisplayString(item.num), 1\n                /* TEXT */\n                )]),\n                _: 2\n                /* DYNAMIC */\n\n              }, 1024\n              /* DYNAMIC_SLOTS */\n              ), _createVNode(_component_CTableDataCell, {\n                class: \"text-center\"\n              }, {\n                default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", null, _toDisplayString(item.price), 1\n                /* TEXT */\n                )])]),\n                _: 2\n                /* DYNAMIC */\n\n              }, 1024\n              /* DYNAMIC_SLOTS */\n              ), _createVNode(_component_CTableDataCell, {\n                class: \"text-center\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(_toDisplayString(item.ctime), 1\n                /* TEXT */\n                )]),\n                _: 2\n                /* DYNAMIC */\n\n              }, 1024\n              /* DYNAMIC_SLOTS */\n              )]),\n              _: 2\n              /* DYNAMIC */\n\n            }, 1024\n            /* DYNAMIC_SLOTS */\n            );\n          }), 128\n          /* KEYED_FRAGMENT */\n          )), _createVNode(_component_CTableRow, {\n            style: {\n              \"text-align\": \"right\"\n            }\n          }, {\n            default: _withCtx(() => [_createVNode(_component_CTableDataCell, {\n              class: \"text-center\"\n            }), _createTextVNode(\" 小計: \" + _toDisplayString(order.totalPrice), 1\n            /* TEXT */\n            )]),\n            _: 2\n            /* DYNAMIC */\n\n          }, 1024\n          /* DYNAMIC_SLOTS */\n          )]),\n          _: 2\n          /* DYNAMIC */\n\n        }, 1024\n        /* DYNAMIC_SLOTS */\n        )], 64\n        /* STABLE_FRAGMENT */\n        );\n      }), 128\n      /* KEYED_FRAGMENT */\n      ))]),\n      _: 1\n      /* STABLE */\n\n    })]),\n    _: 1\n    /* STABLE */\n\n  })]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementBlock","_createVNode","_component_CForm","_component_CTable","align","hover","responsive","_component_CTableHead","color","_component_CTableRow","_component_CTableHeaderCell","_Fragment","_renderList","$setup","order","id","_createElementVNode","_toDisplayString","status","_hoisted_9","_component_CFormSwitch","checked","label","_ctx","onChange","_component_CTableBody","JSON","parse","content","item","_createBlock","key","name","_component_CTableDataCell","num","price","ctime","style","totalPrice"],"sourceRoot":"","sources":["C:\\Users\\user\\Desktop\\admin\\coreui-free-vue-admin-template-main\\coreui-free-vue-admin-template-main\\src\\views\\CurrentOrder.vue"],"sourcesContent":["<template>\n  <div>\n    <CForm>\n      <CTable align=\"middle\" class=\"mb-0 border\" hover responsive>\n        <CTableHead color=\"light\">\n          <CTableRow>\n            <CTableHeaderCell class=\"text-center\">菜名</CTableHeaderCell>\n            <CTableHeaderCell class=\"text-center\">數量</CTableHeaderCell>\n            <CTableHeaderCell class=\"text-center\">價錢</CTableHeaderCell>\n            <CTableHeaderCell class=\"text-center\">時間</CTableHeaderCell>\n          </CTableRow>\n        </CTableHead>\n        <template v-for=\"order in currentOrder\" :key=\"order.id\">\n          <div class=\"\">\n            <div class=\"row\">\n              <div class=\"col-sm-8\">訂單編號 : {{ order.id }}</div>\n              <div class=\"col-sm-4\">\n                <div v-if=\"order.status == 1\">\n                  <CFormSwitch\n                    id=\"formSwitchCheckChecked\"\n                    :checked=\"order.status == 2\"\n                    :label=\"是否已出餐\"\n                    @change=\"changeStatus(order)\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          <CTableBody>\n            <CTableRow\n              v-for=\"item in JSON.parse(order.content)\"\n              :key=\"item.name\"\n            >\n              <CTableDataCell class=\"text-center\">\n                <div>{{ item.name }}</div>\n              </CTableDataCell>\n              <CTableDataCell class=\"text-center\">\n                {{ item.num }}</CTableDataCell\n              >\n              <CTableDataCell class=\"text-center\">\n                <div class=\"clearfix\">\n                  <div>\n                    {{ item.price }}\n                  </div>\n                </div>\n              </CTableDataCell>\n              <CTableDataCell class=\"text-center\"\n                >{{ item.ctime }}\n              </CTableDataCell>\n            </CTableRow>\n            <CTableRow style=\"text-align: right\">\n              <CTableDataCell class=\"text-center\"></CTableDataCell>\n              小計: {{ order.totalPrice }}\n            </CTableRow>\n          </CTableBody>\n        </template>\n      </CTable></CForm\n    >\n  </div>\n</template>\n<script setup>\n// import { useStore } from 'vuex'\n// import { computed, isProxy, toRaw, nextTick } from 'vue'\nimport { ref, nextTick } from 'vue'\nimport { api } from '../apiRequset.js'\nimport { websocket } from '../websocket.js'\n// const store = useStore()\nconst currentOrder = ref()\ngetCurrentOrder()\ncomputed(() => {\n  if (isProxy(store.state.updateCurrentOrderTime)) {\n    //this If() block is not really necessary\n    getCurrentOrder()\n  }\n  return null\n})\nfunction getCurrentOrder() {\n  api.getCurrentOrder().then((response) => {\n    currentOrder.value = response.data\n  })\n}\nfunction changeStatus(item) {\n  api\n    .changeOrderStatus({ orderId: item.orderId, status: 3 })\n    .then((response) => {\n      console.log(response)\n    })\n  nextTick(() => {\n    item.status = item.status == 0 ? 1 : 0\n    console.log(item.status)\n  })\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}