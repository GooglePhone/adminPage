{"version":3,"file":"js/584.164d4b7f.js","mappings":"0dAiEA,MAAMA,GAAQC,EAAAA,EAAAA,MACRC,GAAeC,EAAAA,EAAAA,MAUrB,SAASC,IACPC,EAAAA,GAAAA,kBAAsBC,MAAMC,IAC1BL,EAAaM,MAAQD,EAASE,IAA9B,GAEH,CACD,SAASC,EAAaC,GACpBN,EAAAA,GAAAA,kBACqB,CAAEO,QAASD,EAAKE,GAAIC,OAAuB,GAAfH,EAAKG,OAAc,EAAI,IACrER,MAAMC,IACG,IAEZI,EAAKG,OAAwB,GAAfH,EAAKG,OAAc,EAAI,EACrCC,WAAWX,EAAiB,IAC7B,C,OAtBDA,KAEAY,EAAAA,EAAAA,KACE,IAAMhB,EAAMiB,MAAMC,yBAClB,WACEd,GACD,I,s8DCtEH,MAAMe,EAAc,EAEpB,O","sources":["webpack://@coreui/coreui-free-vue-admin-template/./src/views/CurrentOrder.vue","webpack://@coreui/coreui-free-vue-admin-template/./src/views/CurrentOrder.vue?7b31"],"sourcesContent":["<template>\n  <div>\n    {{ currentOrderTime }}\n    <CForm>\n      <CTable align=\"middle\" class=\"mb-0 border\" hover responsive>\n        <CTableHead color=\"light\">\n          <CTableRow>\n            <CTableHeaderCell class=\"text-center\">菜名</CTableHeaderCell>\n            <CTableHeaderCell class=\"text-center\">數量</CTableHeaderCell>\n            <CTableHeaderCell class=\"text-center\">價錢</CTableHeaderCell>\n            <CTableHeaderCell class=\"text-center\">時間</CTableHeaderCell>\n          </CTableRow>\n        </CTableHead>\n        <template v-for=\"order in currentOrder\" :key=\"order.id\">\n          <div class=\"\">\n            <div class=\"row\">\n              <div class=\"col-sm-8\">訂單編號 : {{ order.id }}</div>\n              <div class=\"col-sm-4\">\n                <div>\n                  <CFormSwitch\n                    id=\"formSwitchCheckChecked\"\n                    :checked=\"order.status == 2\"\n                    label=\"是否出餐\"\n                    @change=\"changeStatus(order)\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          <CTableBody>\n            <CTableRow\n              v-for=\"item in JSON.parse(order.content)\"\n              :key=\"item.name\"\n            >\n              <CTableDataCell class=\"text-center\">\n                <div>{{ item.name }}</div>\n              </CTableDataCell>\n              <CTableDataCell class=\"text-center\">\n                {{ item.num }}</CTableDataCell\n              >\n              <CTableDataCell class=\"text-center\">\n                <div class=\"clearfix\">\n                  <div>\n                    {{ item.price }}\n                  </div>\n                </div>\n              </CTableDataCell>\n              <CTableDataCell class=\"text-center\"\n                >{{ item.ctime }}\n              </CTableDataCell>\n            </CTableRow>\n            <CTableRow style=\"text-align: right\">\n              <CTableDataCell class=\"text-center\"></CTableDataCell>\n              小計: {{ order.totalPrice }}\n            </CTableRow>\n          </CTableBody>\n        </template>\n      </CTable></CForm\n    >\n  </div>\n</template>\n<script setup>\nimport { useStore } from 'vuex'\nimport { ref, watch } from 'vue'\nimport { api } from '../apiRequset.js'\nconst store = useStore()\nconst currentOrder = ref()\ngetCurrentOrder()\n\nwatch(\n  () => store.state.updateCurrentOrderTime,\n  function () {\n    getCurrentOrder()\n  },\n)\n\nfunction getCurrentOrder() {\n  api.getCurrentOrder().then((response) => {\n    currentOrder.value = response.data\n  })\n}\nfunction changeStatus(item) {\n  api\n    .changeOrderStatus({ orderId: item.id, status: item.status == 1 ? 2 : 1 })\n    .then((response) => {\n      response\n    })\n  item.status = item.status == 0 ? 1 : 0\n  setTimeout(getCurrentOrder, 50000)\n}\n</script>\n","import script from \"./CurrentOrder.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CurrentOrder.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["store","useStore","currentOrder","ref","getCurrentOrder","api","then","response","value","data","changeStatus","item","orderId","id","status","setTimeout","watch","state","updateCurrentOrderTime","__exports__"],"sourceRoot":""}